{"version":3,"file":"static/js/842.f18cd1f1.chunk.js","mappings":"6SAEAA,EAAAA,GAAAA,SAAAA,QAAyB,+BACzB,I,EAEaC,EAAY,mCAAG,WAAMC,GAAN,4GAEDF,EAAAA,GAAAA,IAAA,iBACXE,EADW,oBAJZ,mCAIY,oBAFC,cAElBC,EAFkB,OAKlBC,EAAOD,EAASE,KAElBC,EAAQ,GACRC,EAAQ,GAGVD,EADEF,EAAKI,YACC,kCAAoCJ,EAAKI,YAG/C,yFAIFD,EADEH,EAAKG,MACCH,EAAKG,MAELH,EAAKK,KAGTC,EAAOC,OAAOC,SAASR,EAAKS,cAC5BC,EAAQC,KAAKC,MAA0B,GAApBZ,EAAKa,cACxBC,EAASd,EAAKc,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMX,IAAV,IAAgBY,KAAK,MAzBjC,kBA2BjB,CACLC,GAAIlB,EAAKkB,GACTC,SAAUnB,EAAKmB,SACfjB,MAAAA,EACAI,KAAAA,EACAI,MAAAA,EACAI,OAAAA,EACAX,MAAAA,IAlCsB,kCAqCxBiB,QAAQC,MAAR,MArCwB,0DAAH,sD,SCJzB,GAAgB,QAAU,kCAAkC,OAAS,iCAAiC,MAAQ,gCAAgC,KAAO,+BAA+B,KAAO,+BAA+B,KAAO,+BAA+B,KAAO,gC,SCWjQC,GAAOC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAH,4FAQGE,EAAmB,WAC9B,OAAwBC,EAAAA,EAAAA,UAAS,CAAC,GAAlC,eAAO1B,EAAP,KAAa2B,EAAb,KACA,GAAwBD,EAAAA,EAAAA,UAAS,GAAjC,eAAOE,EAAP,KAAaC,EAAb,KACQ/B,GAAYgC,EAAAA,EAAAA,MAAZhC,QACFiC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAejB,OAbAC,EAAAA,EAAAA,YAAU,WACRN,GAAQ,SAAAO,GAAI,OAAIA,EAAO,CAAX,GAEb,GAAE,CAACH,EAASI,YAEbF,EAAAA,EAAAA,YAAU,WACRtC,EAAaC,GAASwC,MAAK,SAAArC,GACzB0B,EAAQ1B,EACT,IACD4B,GAAS,EAEV,GAAE,KAGD,4BACE,qBAASU,UAAWC,EAAAA,QAApB,WACE,oBAAQC,QAAS,kBAAMV,EAASH,EAAf,EAAsBW,UAAWC,EAAAA,OAAlD,WACE,cAAGD,UAAWC,EAAAA,MAAd,oBADF,eAGA,iBAAKD,UAAWC,EAAAA,KAAhB,WACE,gBAAKE,IAAK1C,EAAKE,MAAOyC,IAAK3C,EAAKkB,GAAI0B,MAAM,SAC1C,iBAAKL,UAAWC,EAAAA,KAAhB,WACE,gBAAID,UAAWC,EAAAA,MAAf,UACGxC,EAAKG,MADR,KACiB0C,MAAM7C,EAAKM,QAAS,gCAAQN,EAAKM,KAAb,WAErC,0CAAkBN,EAAKU,MAAvB,QACA,sCACA,uBAAIV,EAAKmB,YACT,oCACA,uBAAInB,EAAKc,mBAIf,oBAASyB,UAAWC,EAAAA,QAApB,UACE,2BACE,eAAID,UAAWC,EAAAA,KAAf,UACE,SAAClB,EAAD,CAAMwB,GAAG,OAAOP,UAAWC,EAAAA,KAA3B,qBAIF,eAAID,UAAWC,EAAAA,KAAf,UACE,SAAClB,EAAD,CAAMwB,GAAG,UAAUP,UAAWC,EAAAA,KAA9B,6BAMN,SAAC,EAAAO,SAAD,CAAUC,UAAU,6CAApB,UACE,SAAC,KAAD,QAIP,EAED,G","sources":["utils/api/getMovieById.js","webpack://react-homework-template/./src/pages/MovieDetailsPage/movieDetailsPage.module.css?c394","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst apiKey = 'e04c68f789be72aeeeea023bd48810ca';\n\nexport const getMovieById = async movieId => {\n  try {\n    const response = await axios.get(\n      `/movie/${movieId}?api_key=${apiKey}&language=en-US`\n    );\n    const film = response.data;\n\n    let image = '';\n    let title = '';\n\n    if (film.poster_path) {\n      image = 'https://image.tmdb.org/t/p/w300' + film.poster_path;\n    } else {\n      image =\n        'https://www.nps.k12.nj.us/SCI/wp-content/uploads/sites/67/2020/12/no-photo-220x300.png';\n    }\n\n    if (film.title) {\n      title = film.title;\n    } else {\n      title = film.name;\n    }\n\n    const year = Number.parseInt(film.release_date);\n    const score = Math.round(film.vote_average * 10);\n    const genres = film.genres.map(genre => genre.name).join('  ');\n\n    return {\n      id: film.id,\n      overview: film.overview,\n      image,\n      year,\n      score,\n      genres,\n      title,\n    };\n  } catch (error) {\n    console.error(error);\n  }\n};","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"movieDetailsPage_section__CHS3Z\",\"button\":\"movieDetailsPage_button__FSz1W\",\"arrow\":\"movieDetailsPage_arrow__n22bH\",\"wrap\":\"movieDetailsPage_wrap__nPhtF\",\"info\":\"movieDetailsPage_info__G9PsW\",\"link\":\"movieDetailsPage_link__ZHtlQ\",\"item\":\"movieDetailsPage_item__NDr60\"};","import { Suspense, useEffect, useState } from 'react';\nimport {\n  useParams,\n  Outlet,\n  NavLink,\n  useLocation,\n  useNavigate,\n} from 'react-router-dom';\nimport { getMovieById } from 'utils/api/getMovieById';\nimport styled from 'styled-components';\nimport styles from './movieDetailsPage.module.css';\n\nconst Link = styled(NavLink)`\n  color: #000;\n\n  &.active {\n    color: rgb(212, 63, 172);\n  }\n`;\n\nexport const MovieDetailsPage = () => {\n  const [film, setFilm] = useState({});\n  const [page, setPage] = useState(0);\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    setPage(prev => prev - 1);\n    // eslint-disable-next-line\n  }, [location.pathname]);\n\n  useEffect(() => {\n    getMovieById(movieId).then(data => {\n      setFilm(data);\n    });\n    setPage(-1);\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div>\n      <section className={styles.section}>\n        <button onClick={() => navigate(page)} className={styles.button}>\n          <b className={styles.arrow}>&#8678;</b> Go back\n        </button>\n        <div className={styles.wrap}>\n          <img src={film.image} alt={film.id} width=\"300\" />\n          <div className={styles.info}>\n            <h2 className={styles.title}>\n              {film.title} {!isNaN(film.year) && <span>({film.year})</span>}\n            </h2>\n            <span>Use Score: {film.score}%</span>\n            <h4>Overview</h4>\n            <p>{film.overview}</p>\n            <h4>Genres</h4>\n            <p>{film.genres}</p>\n          </div>\n        </div>\n      </section>\n      <section className={styles.section}>\n        <ul>\n          <li className={styles.item}>\n            <Link to=\"cast\" className={styles.link}>\n              Cast\n            </Link>\n          </li>\n          <li className={styles.item}>\n            <Link to=\"reviews\" className={styles.link}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </section>\n      <Suspense fallback={<div>Loading page...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetailsPage;"],"names":["axios","getMovieById","movieId","response","film","data","image","title","poster_path","name","year","Number","parseInt","release_date","score","Math","round","vote_average","genres","map","genre","join","id","overview","console","error","Link","styled","NavLink","MovieDetailsPage","useState","setFilm","page","setPage","useParams","navigate","useNavigate","location","useLocation","useEffect","prev","pathname","then","className","styles","onClick","src","alt","width","isNaN","to","Suspense","fallback"],"sourceRoot":""}
"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[842],{842:function(e,t,n){n.r(t),n.d(t,{MovieDetailsPage:function(){return j},default:function(){return x}});var s=n(885),a=n(168),i=n(791),r=n(731),c=n(689),o=n(861),l=n(757),u=n.n(l),h=n(44);h.ZP.defaults.baseURL="https://api.themoviedb.org/3";var d,m=function(){var e=(0,o.Z)(u().mark((function e(t){var n,s,a,i,r,c,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.ZP.get("/movie/".concat(t,"?api_key=").concat("e04c68f789be72aeeeea023bd48810ca","&language=en-US"));case 3:return n=e.sent,s=n.data,a="",i="",a=s.poster_path?"https://image.tmdb.org/t/p/w300"+s.poster_path:"https://www.nps.k12.nj.us/SCI/wp-content/uploads/sites/67/2020/12/no-photo-220x300.png",i=s.title?s.title:s.name,r=Number.parseInt(s.release_date),c=Math.round(10*s.vote_average),o=s.genres.map((function(e){return e.name})).join("  "),e.abrupt("return",{id:s.id,overview:s.overview,image:a,year:r,score:c,genres:o,title:i});case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),p=n(444),v={section:"movieDetailsPage_section__CHS3Z",button:"movieDetailsPage_button__FSz1W",arrow:"movieDetailsPage_arrow__n22bH",wrap:"movieDetailsPage_wrap__nPhtF",info:"movieDetailsPage_info__G9PsW",link:"movieDetailsPage_link__ZHtlQ",item:"movieDetailsPage_item__NDr60"},_=n(184),f=(0,p.ZP)(r.OL)(d||(d=(0,a.Z)(["\n  color: #000;\n\n  &.active {\n    color: rgb(212, 63, 172);\n  }\n"]))),j=function(){var e=(0,i.useState)({}),t=(0,s.Z)(e,2),n=t[0],a=t[1],r=(0,i.useState)(0),o=(0,s.Z)(r,2),l=o[0],u=o[1],h=(0,c.UO)().movieId,d=(0,c.s0)(),p=(0,c.TH)();return(0,i.useEffect)((function(){u((function(e){return e-1}))}),[p.pathname]),(0,i.useEffect)((function(){m(h).then((function(e){a(e)})),u(-1)}),[]),(0,_.jsxs)("div",{children:[(0,_.jsxs)("section",{className:v.section,children:[(0,_.jsxs)("button",{onClick:function(){return d(l)},className:v.button,children:[(0,_.jsx)("b",{className:v.arrow,children:"\u21e6"})," Go back"]}),(0,_.jsxs)("div",{className:v.wrap,children:[(0,_.jsx)("img",{src:n.image,alt:n.id,width:"300"}),(0,_.jsxs)("div",{className:v.info,children:[(0,_.jsxs)("h2",{className:v.title,children:[n.title," ",!isNaN(n.year)&&(0,_.jsxs)("span",{children:["(",n.year,")"]})]}),(0,_.jsxs)("span",{children:["Use Score: ",n.score,"%"]}),(0,_.jsx)("h4",{children:"Overview"}),(0,_.jsx)("p",{children:n.overview}),(0,_.jsx)("h4",{children:"Genres"}),(0,_.jsx)("p",{children:n.genres})]})]})]}),(0,_.jsx)("section",{className:v.section,children:(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{className:v.item,children:(0,_.jsx)(f,{to:"cast",className:v.link,children:"Cast"})}),(0,_.jsx)("li",{className:v.item,children:(0,_.jsx)(f,{to:"reviews",className:v.link,children:"Reviews"})})]})}),(0,_.jsx)(i.Suspense,{fallback:(0,_.jsx)("div",{children:"Loading page..."}),children:(0,_.jsx)(c.j3,{})})]})},x=j}}]);
//# sourceMappingURL=842.f18cd1f1.chunk.js.map